# Harvest AI

An agentic AI platform for agriculture built on AWS. Farmers get real-time weather intelligence, AI-powered crop diagnosis, farm planning recommendations, market price tracking, and a multilingual voice assistant — all orchestrated by autonomous AI agents.

---

## Features

### Weather Intelligence Agent
- 7-day forecast with current conditions (temperature, humidity, wind, UV index)
- Location picker with 35 Australian cities across all states and territories, grouped by state
- SNS threshold alerts — high temp (>35°C), frost (<5°C), flood (>50mm rain), drought (7+ dry days)
- Daily farming advisory generated by Amazon Bedrock, with a 7-day weather outlook derived from forecast data
- Email and SMS alert subscriptions via AWS SNS
- "Acknowledge" and "Adjust Schedule" advisory actions — schedule links directly to the Farm Planner

### AI Crop Diagnosis Chatbot
- Upload a photo and describe symptoms to get instant diagnosis
- Identifies diseases, pest damage, nutrient deficiencies, and abiotic stress
- Treatment, organic alternatives, and prevention recommendations
- Multi-turn conversation with session history

### Farm Planning Advisor
- AI-generated crop schedule and planting recommendations
- Adjusts plans based on current weather and soil conditions

### Market Price Intelligence
- Real-time crop and commodity market prices
- Price trend tracking and alerts

### Multilingual Voice Assistant
- Voice-powered farming queries in multiple languages
- Speech-to-text via AWS Transcribe, text-to-speech via AWS Polly

### Authentication (UI)
- Sign-in (`/login`) and sign-up (`/signup`) pages with glassmorphism design
- Auth-aware navbar: shows user name and Sign Out when signed in
- Session persists across page refreshes via `localStorage`
- Mock implementation (UI-only) — ready for AWS Cognito integration

---

## Architecture

```
                    ┌─────────────────────┐
                    │  Orchestrator Agent  │
                    │  (Bedrock Agents)    │
                    └────────┬────────────┘
         ┌──────────┬────────┴──────┬──────────┐
         v          v               v          v
      Weather   Diagnosis        Farm       Market
       Agent     Agent          Agent       Agent
```

### AWS Services

| Service | Purpose |
|---------|---------|
| Amazon Bedrock | Foundation models (Claude) + agentic orchestration |
| AWS Lambda | Serverless business logic |
| API Gateway | REST APIs |
| DynamoDB | Chat history, sessions, user data |
| S3 | Photo uploads, media storage |
| Cognito | Authentication |
| SNS / Polly / Transcribe | Alerts, text-to-speech, speech-to-text |
| EventBridge | Scheduled weather agent triggers |
| CloudFront + S3 | Frontend hosting |
| AWS CDK | Infrastructure as code |

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| Frontend | React 19, Vite, TypeScript, React Router, CSS Modules |
| Backend | TypeScript, Node.js, Express, AWS Lambda |
| AI | Amazon Bedrock (Claude), Bedrock Agents |
| Database | DynamoDB |
| Storage | S3 |
| Infra | AWS CDK (TypeScript) |
| CI/CD | GitHub Actions, AWS Amplify |

---

## Project Structure

```
harvest-ai/
├── frontend/src/
│   ├── components/       # Reusable UI components
│   ├── pages/            # Page-level components (Home, Weather, SignIn, SignUp, …)
│   ├── hooks/            # Custom hooks (useWeatherData, useAuth, …)
│   ├── services/         # API client functions
│   └── styles/           # Global CSS tokens
├── backend/src/
│   ├── handlers/         # Lambda entry points
│   ├── services/         # Business logic + mock services
│   ├── repositories/     # Data access layer
│   └── models/           # Data models
├── shared/src/           # Types & constants shared across workspaces
├── infrastructure/       # AWS CDK stacks
├── docs/                 # PRD, design guide, coding rules
└── .github/workflows/    # CI/CD pipelines
```

---

## Getting Started

See **[START_GUIDE.md](START_GUIDE.md)** for full setup instructions.

**Quick start (no AWS needed):**
```bash
npm install
npm run dev:mock -w backend   # mock backend on port 3000
npm run dev -w frontend       # frontend on port 5173
```

Open http://localhost:5173

---

## CI/CD

| Workflow | Trigger | What it does |
|----------|---------|-------------|
| `ci.yml` | Push to any branch | Lint, typecheck, tests, build |
| `deploy-backend.yml` | Push to `dev` / `staging` | CDK deploy + S3/CloudFront frontend + health check |
| `deploy-production.yml` | Push to `main` | Production deploy + smoke tests + GitHub Release |

Push to `dev` → runs CI + deploys to dev environment.
Push to `main` → full production pipeline with manual approval gate.

---

## Documentation

| Document | Description |
|----------|-------------|
| [START_GUIDE.md](START_GUIDE.md) | Full setup, local dev, testing, CI/CD, deployment |
| [QUICK_START_MOCK.md](QUICK_START_MOCK.md) | Run and test backend locally without any AWS setup |
| [docs/PRD.md](docs/PRD.md) | Product requirements, features, data models |
| [docs/DESIGN_GUIDE.md](docs/DESIGN_GUIDE.md) | Color palette, typography, CSS variables |
| [docs/CODING_RULES.md](docs/CODING_RULES.md) | SOLID, DRY, naming conventions |
| [docs/DEPLOYMENT_PLAN.md](docs/DEPLOYMENT_PLAN.md) | CDK stacks, GitHub Actions, Amplify config |

---

## Contributing

1. Read [docs/CODING_RULES.md](docs/CODING_RULES.md) before writing code.
2. Branch naming: `feature/your-feature-name`
3. Commit format: `feat(scope): description` — Conventional Commits
4. All tests must pass before merging.
5. One feature or fix per PR.

---

## License

Proprietary. All rights reserved.
